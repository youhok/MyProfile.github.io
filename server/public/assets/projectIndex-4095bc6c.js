import{C as f}from"./CloudImage-3f85420b.js";import{p as c}from"./projectController-f45fd419.js";import{d as x,u as b,r as i,e as j,E as w,o as d,c as u,a as e,g as r,w as m,s as C}from"./index-9f45cced.js";import{_ as E}from"./EasyDataTableOperations.vue_vue_type_script_setup_true_lang-a8168693.js";const D={class:"container-fluid"},N=e("h2",null,"Project",-1),k={class:"row"},B={class:"col-12 mt-4"},I={class:"project-image-wrapper"},T={key:0,class:"loading-spinner"},V=e("div",{class:"loader"},null,-1),$=[V],O=x({__name:"projectIndex",setup(R){const l=b(),n=i(!1),p=()=>{l.push({path:"/core/admin/project/create"})},_=[{text:"Gallary",value:"gallary"},{text:"Name",value:"name"},{text:"Type",value:"categoryDoc.enName"},{text:"Description",value:"description"},{text:"Release Date",value:"releaseDate"},{text:"Status",value:"status"},{text:"Operation",value:"operation",width:200}],v=async t=>{n.value=!0;try{await c.delete(t),a.value=a.value.filter(o=>o._id!==t)}catch(o){console.error("Error deleting project:",o)}finally{n.value=!1}},h=t=>{l.push({name:"core.admin.projectEdit",params:{id:t}})},a=i([]);return j(async()=>{try{const t=await c.getAll();a.value=t,console.log("ðŸš€ ~ file: projectIndex.vue:57 ~ items:",a.value)}catch(t){console.error("Error fetching data:",t)}}),(t,o)=>{const g=w("EasyDataTable");return d(),u("div",null,[e("div",D,[e("div",{class:"row"},[e("div",{class:"col-12"},[e("div",{class:"d-flex justify-content-between"},[N,e("button",{type:"button",class:"btn btn-primary Btn-add",onClick:p},"Create")])])]),e("div",k,[e("div",B,[r(g,{"buttons-pagination":"","theme-color":"var(--primary)","show-index":"","table-class-name":"customize-table shadow-sm",headers:_,items:a.value},{"item-gallary":m(({thumbnail:s})=>[e("div",I,[r(f,{imageName:s.public_id,class:"project-image"},null,8,["imageName"])])]),"item-operation":m(s=>[r(E,{onDelete:y=>v(s._id),onEdit:y=>h(s._id)},null,8,["onDelete","onEdit"])]),_:1},8,["items"])])]),n.value?(d(),u("div",T,$)):C("",!0)])])}}});export{O as default};
